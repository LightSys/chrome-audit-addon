# Writing the Configuration File

### A Barebones Configuration

The configuration file is written in JSON, and contains essential information for the add-on to function. It is strongly recommended that you write your own. Below is a sample barebones configuration that you can copy and edit to create your own. 

```json
{
  "whitelist": [
    {"name": "Chrome Audit Addon", "id": "bajpgljgpgcaihgkmgebfpngcnompgdp"}
  ],

  "urlList": [
  ]
}
```

Continue reading to learn how to have the X-Audit header to your website, and how to whitelist extensions in addition to this one. 

### The Extension Whitelist

_Example:_
```json
{
  "whitelist": [
    {"name": "Chrome Audit Addon", "id": "bajpgljgpgcaihgkmgebfpngcnompgdp"},
    {"name": "UBlock Origin", "id": "cjpalhdlnbpafiamejdnhcphjbkeiagm"},
    {"name": "Web Developer", "id": "bfbameneiokkgbdmiekhjnmfkcnldhhm"},
    {"name": "Plus for Trello", "id": "gjjpophepkbhejnglcmkdnncmaanojkf"}
  ],
```

This section of the configuration file sets the allowed extensions, and their unique Chrome Web Store ID's. 

These unique ID's are hidden by default, but can be displayed if the "Developer mode" box on the chrome://extensions page is ticked. Below are step-by-step directions on adding an extension to the whitelist.

1. In Chrome, install the extension you wish to whitelist. _(For the purposes of this demonstration, we will be showing how to whitelist the Privacy Badger extension.)_  
![In Chrome, install the extension you wish to whitelist.](https://raw.githubusercontent.com/LightSys/chrome-audit-addon/master/doc/writing_config_img/whitelist_img00.png)

2. Go to the [chrome://extensions](chrome://extensions) page, and tick the "Developer mode" checkbox near the top of the page.  
![Tick the "Developer mode" checkbox near the top of the page.](https://raw.githubusercontent.com/LightSys/chrome-audit-addon/master/doc/writing_config_img/whitelist_img01.png)

3. In your custom configuration file, add a line to the whitelist, containing the name and ID of the extension you wish to whitelist.  
![Add a line to your configuration file's whitelist](https://raw.githubusercontent.com/LightSys/chrome-audit-addon/master/doc/writing_config_img/whitelist_img02.png)

### The URL List

_Example:_
```json
  "urlList": [
    {"url": "https://www.google.com/"}
  ]
}
```

The next section of the configuration file is the URL list. The URL list is a list of hostnames to which the X-Audit header generated by this extension should be sent. 

To add a website to this list, simply add it as another line to the urlList in the file. Below are step-by-step details on how to do this correctly.

1. Because we're adding an additional URL to the list, if there is already a URL listed, we need to add a marker to separate the list's elements. **If you are adding the first URL in the list, you can skip to step 2.**

The marker used in JSON is a comma. Add it to the final URL in the list, which shouldn't have one at the end. In our example, you would change the above code to this:

```json
  "urlList": [
    {"url": "https://www.google.com/"},
  ]
}
```

2. Add a new line between the square brackets, after any already existing URL entries. On that new line, enter the following text:

```json
{"url": ""}
```

When this is complete, the URL List section of the file should look something like this:

```json
  "urlList": [
    {"url": "https://www.google.com/"},
    {"url": ""}
  ]
}
```

3. Finally, add the address to the server that you wish to send the header to. **Note: X-Audit headers only work with HTTPS websites, so if you are using a different protocol, such as HTTP, this add-on will not help you.**

Enter the address to the site you wish to send the header to between the newly added adjacent double quotes. For example, if you wished to send the header to "https://www.mywebsite.org":

```json
  "urlList": [
    {"url": "https://www.google.com/"},
    {"url": "https://www.mywebsite.org"}
  ]
}
```

[Return to the README.md file](../README.md)
